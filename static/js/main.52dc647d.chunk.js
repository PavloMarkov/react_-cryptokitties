(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(8),s=a.n(r),i=(a(15),a(16),a(17),a(0)),o=function(){return Object(i.jsx)("footer",{className:"footer",children:Object(i.jsx)("section",{children:Object(i.jsx)("a",{href:"https://github.com/PavloMarkov?tab=repositories",className:"footer__link",children:"Powered by Pavlo Markov"})})})},l=(a(19),function(){return Object(i.jsx)("header",{className:"header",id:"header",children:Object(i.jsx)("nav",{children:"Kittens"})})}),j=a(2),u=a(3),d=a(9),b=a.n(d);var p,O=function(e){return function(e){return fetch("https://ftl-cryptokitties.fly.dev/api/crypto_kitties"+e,{method:"GET",headers:{"Content-Type":"application/json; charset=UTF-8"}}).then((function(e){if(!e.ok)throw new Error;return e.json()}))}(e)};!function(e){e.NONE="",e.ID="id",e.NAME="name",e.CATEGORY="category",e.PRICE="price"}(p||(p={}));a(20);var _=a.p+"static/media/paw_loader.01294796.png",h=function(){return Object(i.jsxs)("div",{className:"loader",children:[Object(i.jsx)("h2",{children:"Cat's are coming!"}),Object(i.jsx)("img",{className:"loader__paw",src:_,alt:"loading..."})]})},g=(a(21),a(7)),f=a(10),m=a.n(f),x=(a(26),a(27),a.p+"static/media/defaultPick.474e7e3f.png"),v=function(e){var t=e.id,a=e.setId,n=Object(c.useState)(null),r=Object(u.a)(n,2),s=r[0],o=r[1];Object(c.useEffect)((function(){O("/".concat(t)).then((function(e){return o(e)}))}),[]);return s?Object(i.jsx)("div",{className:"cat-card",children:Object(i.jsxs)("div",{className:"cat-card__container",children:[Object(i.jsx)("div",{className:"cat-card__cancel",children:Object(i.jsx)("button",{type:"button",onClick:a,className:"cat-card__btn-close",children:"X"})}),Object(i.jsx)("div",{className:"cat-card__category",children:s.category}),Object(i.jsx)("h2",{className:"cat-card__name",children:s.name}),Object(i.jsx)("div",{className:"cat-card__price",children:"".concat(s.price,"$")}),Object(i.jsxs)("div",{className:"cat-card__img",children:[Object(i.jsx)("img",{src:s.image_url,alt:"Here should be ".concat(s.name,", but sleeping is first!"),onError:function(e){e.currentTarget.src=x},className:"cat-card__foto"}),Object(i.jsx)("div",{className:"cat-card__buy",children:Object(i.jsx)("button",{type:"button",className:"cat-card__buy-btn",onClick:a,children:s.available?"Buy it!":"At it's house already"})})]})]})}):Object(i.jsx)(h,{})},N=function(e){var t=e.list,a=e.pageData,n=Object(c.useState)(a.currentPage+1),r=Object(u.a)(n,2),s=r[0],o=r[1],l=Object(c.useState)(t),j=Object(u.a)(l,2),d=j[0],b=j[1],p=Object(c.useState)(0),_=Object(u.a)(p,2),h=_[0],f=_[1],N=function(e){e.currentTarget.src=x};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{pageStart:a.currentPage,loadMore:function(){O("?per_page=".concat(a.catsPerPage,"&page=").concat(s+1,"&sort_by=").concat(a.sortBy||"id","&sort_dir=").concat(a.sortMethod||"asc")).then((function(e){b((function(t){return[].concat(Object(g.a)(t),Object(g.a)(e.cats))})),o((function(e){return e+1}))}))},hasMore:a.pageCount>s,loader:Object(i.jsx)("div",{className:"load",children:Object(i.jsx)("div",{className:"load__content"})}),children:Object(i.jsx)("div",{className:"card-list",children:d.map((function(e){return Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:e.available?"card__info":"card__info card__sold",children:[Object(i.jsx)("h1",{className:"card__name",children:e.name}),Object(i.jsxs)("div",{className:"card__img",children:[Object(i.jsx)("div",{className:"card__category",children:e.category}),Object(i.jsx)("img",{src:e.image_url,alt:"Here should be cat ".concat(e.name," & it's"),onError:N,className:"card__foto"}),Object(i.jsx)("div",{className:"card__price",children:"".concat(e.price,"$")}),Object(i.jsx)("button",{type:"button",className:"card__available",onClick:function(){return f(e.id)},children:e.available?"available":"Sold"})]})]})},e.id)}))})}),0!==h&&Object(i.jsx)(v,{id:h,setId:function(){f(0)}})]})},y=(a(28),function(){return Object(i.jsx)("div",{className:"arrow-up",children:Object(i.jsx)("div",{className:"arrow-up__arrow",children:Object(i.jsx)("a",{href:"#header",children:" \u2191"})})})}),P=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)([]),_=Object(u.a)(d,2),g=_[0],f=_[1],m=Object(c.useState)({sortBy:p.NONE,sortMethod:"",pageCount:0,catsPerPage:50,currentPage:0}),x=Object(u.a)(m,2),v=x[0],P=x[1],C="?page=".concat(v.currentPage+1,"&per_page=").concat(v.catsPerPage),k="&sort_by=".concat(v.sortBy||"id","&sort_dir=").concat(v.sortMethod||"asc");Object(c.useEffect)((function(){l(!0),fetch("https://ftl-cryptokitties.fly.dev/api/crypto_kitties").then((function(e){return e.json()})).then((function(e){f(e.cats),P((function(t){return Object(j.a)(Object(j.a)({},t),{},{pageCount:e.pagination_info.total_pages})}))})).finally((function(){n(!1),l(!1)}))}),[]),Object(c.useEffect)((function(){a||(l(!0),O(C+k).then((function(e){f(e.cats),P((function(t){return Object(j.a)(Object(j.a)({},t),{},{pageCount:e.pagination_info.total_pages})}))})).finally((function(){return l(!1)})))}),[v.currentPage]);var E=function(){l(!0),O("?".concat(k,"&page=1&per_page=").concat(v.catsPerPage)).then((function(e){f(e.cats),P((function(t){return Object(j.a)(Object(j.a)({},t),{},{currentPage:0,pageCount:e.pagination_info.total_pages,catsPerPage:e.pagination_info.limit_per_page})}))})).finally((function(){return l(!1)}))};return Object(i.jsx)("main",{className:"page__main",children:o?Object(i.jsx)(h,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(y,{}),Object(i.jsx)(b.a,{breakLabel:"...",nextLabel:">",previousLabel:"<",onPageChange:function(e){P((function(t){return Object(j.a)(Object(j.a)({},t),{},{currentPage:e.selected})}))},pageRangeDisplayed:3,marginPagesDisplayed:1,forcePage:v.currentPage,pageCount:v.pageCount,containerClassName:"pagination__container",previousLinkClassName:"pagination__previous",breakClassName:"pagination__page",nextLinkClassName:"pagination__next",pageClassName:"pagination__page",disabledClassName:"pagination__disabled",activeClassName:"pagination__active",activeLinkClassName:"pagination__link"}),Object(i.jsxs)("div",{className:"page__sort sort",children:[Object(i.jsxs)("section",{className:"sort__field",children:[Object(i.jsxs)("select",{onChange:function(e){return P((function(t){return Object(j.a)(Object(j.a)({},t),{},{sortBy:e.target.value})}))},className:"sort__select",value:v.sortBy,children:[Object(i.jsx)("option",{value:p.NONE,children:"Need to sort?"}),Object(i.jsx)("option",{value:p.ID,children:"By ID"}),Object(i.jsx)("option",{value:p.NAME,children:"By Name"}),Object(i.jsx)("option",{value:p.CATEGORY,children:"By Category"}),Object(i.jsx)("option",{value:p.PRICE,children:"By Price"})]}),Object(i.jsxs)("select",{onChange:function(e){return P((function(t){return Object(j.a)(Object(j.a)({},t),{},{sortMethod:e.target.value})}))},className:"sort__select",value:v.sortMethod,children:[Object(i.jsx)("option",{value:"",children:"Sort type"}),Object(i.jsx)("option",{value:"asc",children:"asc"}),Object(i.jsx)("option",{value:"desc",children:"desc"})]}),Object(i.jsx)("button",{type:"button",className:"sort__btn",onClick:function(){return E()},children:"Sort cats!"})]}),Object(i.jsxs)("section",{className:"sort__field",children:[Object(i.jsxs)("label",{htmlFor:"per-page",children:["Meow's per page:",Object(i.jsxs)("select",{onChange:function(e){return P((function(t){return Object(j.a)(Object(j.a)({},t),{},{catsPerPage:+e.target.value})}))},className:"sort__select",id:"per-page",value:v.catsPerPage,children:[Object(i.jsx)("option",{value:20,children:"20"}),Object(i.jsx)("option",{value:50,children:"50"}),Object(i.jsx)("option",{value:100,children:"100"})]})]}),Object(i.jsx)("button",{type:"button",className:"sort__btn",onClick:E,children:"View cats!"})]})]}),Object(i.jsx)(N,{list:g,pageData:v})]})})},C=function(){return Object(i.jsxs)("div",{className:"page",children:[Object(i.jsx)(l,{}),Object(i.jsx)(P,{}),Object(i.jsx)(o,{})]})};s.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root"))}],[[29,1,2]]]);
//# sourceMappingURL=main.52dc647d.chunk.js.map