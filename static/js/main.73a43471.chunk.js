(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(8),r=a.n(s),i=(a(15),a(16),a(17),a(0)),o=function(){return Object(i.jsx)("footer",{className:"footer",children:Object(i.jsx)("section",{children:Object(i.jsx)("a",{href:"https://github.com/PavloMarkov?tab=repositories",className:"footer__link",children:"Powered by Pavlo Markov"})})})},l=(a(19),function(){return Object(i.jsx)("header",{className:"header",children:Object(i.jsx)("nav",{children:"Kittens"})})}),j=a(2),u=a(3),b=a(9),d=a.n(b);var O,p=function(e){return function(e){return fetch("https://ftl-cryptokitties.fly.dev/api/crypto_kitties"+e,{method:"GET",headers:{"Content-Type":"application/json; charset=UTF-8"}}).then((function(e){if(!e.ok)throw new Error;return e.json()}))}(e)};!function(e){e.NONE="",e.ID="id",e.NAME="name",e.CATEGORY="category",e.PRICE="price"}(O||(O={}));a(20);var h=a.p+"static/media/paw_loader.01294796.png",g=function(){return Object(i.jsxs)("div",{className:"loader",children:[Object(i.jsx)("h2",{children:"Cat's are coming!"}),Object(i.jsx)("img",{className:"loader__paw",src:h,alt:"loading..."})]})},_=(a(21),a(7)),f=a(10),m=a.n(f),x=(a(26),a(27),function(e){var t=e.id,a=e.setId,n=Object(c.useState)(null),s=Object(u.a)(n,2),r=s[0],o=s[1];return Object(c.useEffect)((function(){p("/".concat(t)).then((function(e){return o(e)}))}),[]),r?Object(i.jsx)("div",{className:"cat-card",children:Object(i.jsxs)("div",{className:"cat-card__container",children:[Object(i.jsx)("div",{className:"cat-card__cancel",children:Object(i.jsx)("button",{type:"button",onClick:a,className:"cat-card__btn-close",children:"X"})}),Object(i.jsx)("div",{className:"cat-card__category",children:r.category}),Object(i.jsx)("h2",{className:"cat-card__name",children:r.name}),Object(i.jsxs)("div",{className:"cat-card__foto",children:[Object(i.jsx)("img",{src:r.image_url,alt:"Here should be ".concat(r.name,", but sleeping is first!")}),Object(i.jsx)("div",{className:"cat-card__buy",children:Object(i.jsx)("a",{href:"/",children:Object(i.jsx)("button",{type:"button",className:"cat-card__buy-btn",children:r.available?"Buy it!":"At it's house already"})})})]})]})}):Object(i.jsx)(g,{})}),v=function(e){var t=e.list,a=e.pageData,n=Object(c.useState)(a.currentPage+1),s=Object(u.a)(n,2),r=s[0],o=s[1],l=Object(c.useState)(t),j=Object(u.a)(l,2),b=j[0],d=j[1],O=Object(c.useState)(0),h=Object(u.a)(O,2),g=h[0],f=h[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(m.a,{pageStart:a.currentPage,loadMore:function(){p("?per_page=".concat(a.catsPerPage,"&page=").concat(r+1,"&sort_by=").concat(a.sortBy||"id","&sort_dir=").concat(a.sortMethod||"asc")).then((function(e){d((function(t){return[].concat(Object(_.a)(t),Object(_.a)(e.cats))})),o((function(e){return e+1}))}))},hasMore:a.pageCount>r,loader:Object(i.jsx)("div",{className:"loader",children:"Loading ..."},0),children:Object(i.jsx)("div",{className:"card-list",children:b.map((function(e){return Object(i.jsx)("div",{className:"card",children:Object(i.jsxs)("div",{className:"card__info",children:[Object(i.jsx)("h1",{className:"card__name",children:e.name}),Object(i.jsxs)("div",{className:"card__img",children:[Object(i.jsx)("div",{className:"card__category",children:e.category}),Object(i.jsx)("img",{src:e.image_url,alt:"Here should be cat ".concat(e.name," & it's")}),Object(i.jsx)("div",{className:"card__price",children:"".concat(e.price,"$")}),Object(i.jsx)("button",{type:"button",className:"card__available",onClick:function(){return f(e.id)},children:"Now is ".concat(e.available?"available":"not available")})]})]})},e.id)}))})}),0!==g&&Object(i.jsx)(x,{id:g,setId:function(){f(0)}})]})},N=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1],b=Object(c.useState)([]),h=Object(u.a)(b,2),_=h[0],f=h[1],m=Object(c.useState)({sortBy:O.NONE,sortMethod:"",pageCount:0,catsPerPage:50,currentPage:0}),x=Object(u.a)(m,2),N=x[0],y=x[1],C="?page=".concat(N.currentPage+1,"&per_page=").concat(N.catsPerPage),P="&sort_by=".concat(N.sortBy||"id","&sort_dir=").concat(N.sortMethod||"asc");Object(c.useEffect)((function(){l(!0),fetch("https://ftl-cryptokitties.fly.dev/api/crypto_kitties").then((function(e){return e.json()})).then((function(e){f(e.cats),y((function(t){return Object(j.a)(Object(j.a)({},t),{},{pageCount:e.pagination_info.total_pages})}))})).finally((function(){n(!1),l(!1)}))}),[]),Object(c.useEffect)((function(){a||(l(!0),p(C+P).then((function(e){f(e.cats),y((function(t){return Object(j.a)(Object(j.a)({},t),{},{pageCount:e.pagination_info.total_pages})}))})).finally((function(){return l(!1)})))}),[N.currentPage]);return Object(i.jsx)("main",{className:"page__main",children:o?Object(i.jsx)(g,{}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d.a,{breakLabel:"...",nextLabel:">",previousLabel:"<",onPageChange:function(e){y((function(t){return Object(j.a)(Object(j.a)({},t),{},{currentPage:e.selected})}))},pageRangeDisplayed:3,marginPagesDisplayed:1,forcePage:N.currentPage,pageCount:N.pageCount,containerClassName:"pagination__container",previousLinkClassName:"pagination__previous",breakClassName:"pagination__page",nextLinkClassName:"pagination__next",pageClassName:"pagination__page",disabledClassName:"pagination__disabled",activeClassName:"pagination__active",activeLinkClassName:"pagination__link"}),Object(i.jsxs)("div",{className:"page__sort sort",children:[Object(i.jsxs)("section",{className:"sort__field",children:[Object(i.jsxs)("select",{onChange:function(e){return y((function(t){return Object(j.a)(Object(j.a)({},t),{},{sortBy:e.target.value})}))},className:"sort__select",value:N.sortBy,children:[Object(i.jsx)("option",{value:O.NONE,children:"Need to sort?"}),Object(i.jsx)("option",{value:O.ID,children:"By ID"}),Object(i.jsx)("option",{value:O.NAME,children:"By Name"}),Object(i.jsx)("option",{value:O.CATEGORY,children:"By Category"}),Object(i.jsx)("option",{value:O.PRICE,children:"By Price"})]}),Object(i.jsxs)("select",{onChange:function(e){return y((function(t){return Object(j.a)(Object(j.a)({},t),{},{sortMethod:e.target.value})}))},className:"sort__select",value:N.sortMethod,children:[Object(i.jsx)("option",{value:"",children:"Sort type"}),Object(i.jsx)("option",{value:"asc",children:"asc"}),Object(i.jsx)("option",{value:"desc",children:"desc"})]}),Object(i.jsx)("button",{type:"button",className:"sort__btn",onClick:function(){return l(!0),void p("?".concat(P)).then((function(e){f(e.cats),y((function(t){return Object(j.a)(Object(j.a)({},t),{},{currentPage:0,pageCount:e.pagination_info.total_pages,catsPerPage:e.pagination_info.limit_per_page})}))})).finally((function(){return l(!1)}))},children:"Sort cats!"})]}),Object(i.jsxs)("section",{className:"sort__field",children:[Object(i.jsxs)("label",{htmlFor:"per-page",children:["Meow's per page:",Object(i.jsxs)("select",{onChange:function(e){return y((function(t){return Object(j.a)(Object(j.a)({},t),{},{catsPerPage:+e.target.value})}))},className:"sort__select",id:"per-page",value:N.catsPerPage,children:[Object(i.jsx)("option",{value:50,children:"50"}),Object(i.jsx)("option",{value:20,children:"20"}),Object(i.jsx)("option",{value:100,children:"100"})]})]}),Object(i.jsx)("button",{type:"button",className:"sort__btn",onClick:function(){return y((function(e){return Object(j.a)(Object(j.a)({},e),{},{currentPage:0})}))},children:"View cats!"})]})]}),Object(i.jsx)(v,{list:_,pageData:N})]})})},y=function(){return Object(i.jsxs)("div",{className:"page",children:[Object(i.jsx)(l,{}),Object(i.jsx)(N,{}),Object(i.jsx)(o,{})]})};r.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.73a43471.chunk.js.map